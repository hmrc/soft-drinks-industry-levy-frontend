@*
 * Copyright 2018 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import sdil.config.AppConfig
@import sdil.models.backend.UkAddress
@import views.html.softdrinksindustrylevy.helpers._
@import sdil.models.Address

@import sdil.models.backend.Subscription
@import sdil.models.RegistrationFormData
@import sdil.models.retrieved.RetrievedSubscription
@(address: Address, sdilReference: String, subscription: RetrievedSubscription)(implicit request: Request[_], messages: Messages, config: AppConfig)

@main_template(Messages("sdil.common.title")) {
    <h1 class="heading-large">@Messages("sdil.service-page.title")</h1>
    <div class="notice">
        <i class="icon icon-important">
        </i>
        <strong class="bold-small">
        @Messages("sdil.service-page.warning")
        </strong>
    </div>

    <br>
    <p class="lede">
        @Messages("sdil.service-page.p1")
        <br>
        @sdilReference
    </p>

    @if(subscription.activity.voluntaryRegistration) {
        <div class="panel panel-border-wide">
            <p>
            @Messages("sdli.service-page.p2.voluntary-only")
            </p>
        </div>
    }

    <th colspan="2">
        <h2 class="heading-medium">
        @Messages("sdil.service-page.business-details.title")
        </h2>
    </th>

    @businessDetails(subscription.utr, subscription.orgName, address)
    <table class="check-your-answers">
        <thead>
            <th colspan="2">
                <h2 class="heading-medium">
                @Messages("sdil.service-page.contact-details.title")
                </h2>
            </th>
        </thead>
        <tbody>
            <tr>
                <td scope="row">@Messages("sdil.service-page.contact-details.name")</td>
                <td>@subscription.contact.name</td>
            </tr>
            <tr>
                <td scope="row">@Messages("sdil.service-page.contact-details.job-title")</td>
                <td>@subscription.contact.positionInCompany</td>
            </tr>
            <tr>
                <td scope="row">@Messages("sdil.service-page.contact-details.telephone")</td>
                <td>@subscription.contact.phoneNumber</td>
            </tr>
            <tr>
                <td scope="row">@Messages("sdil.service-page.contact-details.email")</td>
                <td>@subscription.contact.email</td>
            </tr>
        </tbody>
    </table>

    <h2 class="heading-medium">@Messages("sdil.service-page.registered-address.title")</h2>
    <p>@Messages("sdil.service-page.registered-address.p1")</p>

    @if(subscription.productionSites.nonEmpty) {
        @details("sdil.service-page.packaging-address.subtitle") {
            <div class="form-group">
                <table>
                    <thead>
                        <tr>
                            <th>
                                <h2 class="heading-small">
                                    Address line 1
                                </h2>
                            </th>
                            <th>
                                <h2 class="heading-small">
                                    Postcode
                                </h2>
                            </th>
                        </tr>
                    </thead>

                    <tbody>
                    @subscription.productionSites.map { site =>
                        <tr>
                            <td>@site.address.lines.head</td>
                            <td>@site.address.postCode</td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        }
    }

    @if(subscription.warehouseSites.nonEmpty) {
        @details("sdil.service-page.warehouse-address.subtitle") {
            <div class="form-group">
                <table>
                    <thead>
                        <tr>
                            <th>
                                <h2 class="heading-small">
                                @Messages("sdil.service-page.address-line-1")
                                </h2>
                            </th>
                            <th>
                                <h2 class="heading-small">
                                @Messages("sdil.service-page.postcode")
                                </h2>
                            </th>
                        </tr>
                    </thead>

                    <tbody>
                    @subscription.warehouseSites.map { site =>
                        <tr>
                            <td>@site.address.lines.head</td>
                            <td>@site.address.postCode</td>
                        </tr>
                    }
                    </tbody>
                </table>
            </div>
        }
    }

    <div class="column-one-third">
        <div class="section--blue-top sidebar--hidden-sm"></div>
        <h2 class="heading-small">Unique Taxpayer Reference (UTR)</h2>
        <p>0123456789</p>

        <h2 class="heading-small">Make a change</h2>
        <p>Contact Soft Drinks Levy support.</p>
        <p>Telephone: 0300 200 3700</p>

        <h2 class="heading-small">More options</h2>

        <ul class="list">
            <li><a href="https://www.gov.uk/guidance/soft-drinks-industry-levy">Soft Drinks Levy guidance</a></li>
            <li><a href="https://www.gov.uk/government/consultations/draft-legislation-soft-drinks-industry-levy">
                Draft legislation: Soft Drinks Industry Levy</a></li>
            <li><a href=""></a></li>
            <li><a href=""></a></li>
        </ul>
    </div>
}