@*
 * Copyright 2018 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@(v: sdil.models.variations.VariationData, path: List[String])(implicit m: Messages)

@if(path.contains("packSites") && v.updatedProductionSites.nonEmpty) {
<table class="check-your-answers">
    <caption class="heading-medium">Packaging sites</caption>

    <thead>
        <tr>
            <th>
                <h2 class="heading-small">
                    Packaging site address
                </h2>
            </th>
            <th>
                <h2 class="heading-small">
                    Postcode
                </h2>
            </th>
            <th>
            </th>
        </tr>
    </thead>

    <tbody>
        @for(site <- v.updatedProductionSites) {
        <tr>
            <td>
                <details role="group">
                    <summary role="button" aria-controls="details-content-0" aria-expanded="false"><span class="summary">@site.address.lines.head</span></summary>
                    @for(line <- site.address.lines.tail) {
                       <div aria-hidden="true">@line</div>
                    }
                    <div class="postal-code">@site.address.postCode</div>
                </details>
            </td>
            <td>@site.address.postCode</td>
            <td class="change-answer">
                <a href="packSites">
                    Change <span class="visuallyhidden">packaging sites</span>
                </a>
            </td>
        </tr>
        }
    </tbody>
</table>
}

@if(path.contains("warehouses") && v.updatedWarehouseSites.nonEmpty) {
  <table class="check-your-answers">
    <caption class="heading-medium">Warehouses</caption>

    <thead>
        <tr>
            <th>
                <h2 class="heading-small">
                    Warehouse address
                </h2>
            </th>
            <th>
                <h2 class="heading-small">
                    Postcode
                </h2>
            </th>
            <th>
            </th>
        </tr>
    </thead>

    <tbody>
      @for(site <- v.updatedWarehouseSites) {
        <tr>
          <td>
            <details role="group">
              <summary role="button" aria-controls="details-content-0" aria-expanded="false"><span class="summary">@site.address.lines.head</span></summary>
              @for(line <- site.address.lines.tail) {
                <div aria-hidden="true">@line</div>
              }
              <div class="postal-code">@site.address.postCode</div>
            </details>
          </td>
          <td>@site.address.postCode</td>
          <td class="change-answer">
            <a href="packSites">
              Change <span class="visuallyhidden">packaging sites</span>
            </a>
          </td>
        </tr>
        }
    </tbody>
  </table>
}

@if(path.contains("contact")) {
  <h2 class="heading-medium">
    Contact person
  </h2>

  <dl class="govuk-check-your-answers cya-questions-short">
    <div>
        <dt class="cya-question">
            Full name
        </dt>
        <dd class="cya-answer">
            @v.updatedContactDetails.fullName
        </dd>
        <dd class="cya-change">
            <a href="contact">
                Change<span class="visually-hidden"> full name</span>
            </a>
        </dd>
    </div>
    <div>
        <dt class="cya-question">
            Job title
        </dt>
        <dd class="cya-answer">
            @v.updatedContactDetails.position
        </dd>
        <dd class="cya-change">
            <a href="contact">
                Change<span class="visually-hidden"> job title</span>
            </a>
        </dd>
    </div>
    <div>
        <dt class="cya-question">
            Telephone number
        </dt>
        <dd class="cya-answer">
            @v.updatedContactDetails.phoneNumber
        </dd>
        <dd class="cya-change">
            <a href="contact">
                Change<span class="visually-hidden"> telephone number</span>
            </a>
        </dd>
    </div>

    <div>
        <dt class="cya-question">
            Email
        </dt>
        <dd class="cya-answer">
            @v.updatedContactDetails.email
        </dd>
        <dd class="cya-change">
            <a href="contact">
                Change<span class="visually-hidden"> email</span>
            </a>
        </dd>
    </div>

  </dl>
}

@if(path.contains("businessAddress")) {
<h2 class="heading-medium">
    Contact address
</h2>

<dl class="govuk-check-your-answers cya-questions-short">

    <div>
        <dt class="cya-question">
            Address
        </dt>
        <dd class="cya-answer">
            @v.updatedBusinessAddress.nonEmptyLines.head
            @for(line <- v.updatedBusinessAddress.nonEmptyLines.tail) {
                <br />
                @line
            }
        </dd>
        <dd class="cya-change">
            <a href="businessAddress">
                Change<span class="visually-hidden"> home address</span>
            </a>
        </dd>
    </div>

</dl>
}

@if(path.contains("reason")) {
    <dl class="govuk-check-your-answers cya-questions-short">

        <div>
            <dt class="cya-question">
                Reason
            </dt>
            <dd class="cya-answer">
                <p>aoeuaeou</p>
            </dd>
            <dd class="cya-change">
                <a href="reason">
                    Change<span class="visually-hidden"> deregistration reason</span>
                </a>
            </dd>
        </div>

        <div>
            <dt class="cya-question">
                Date
            </dt>
            <dd class="cya-answer">
                <p>1/1/2018</p>
            </dd>
            <dd class="cya-change">
                <a href="#">
                    Change<span class="visually-hidden"> deregistration date</span>
                </a>
            </dd>
        </div>

    </dl>
}
